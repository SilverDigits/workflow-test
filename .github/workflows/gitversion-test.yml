name: GitVersion Test

on:
  workflow_dispatch:

jobs:
  print-version:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install GitVersion
        uses: GitTools/actions/gitversion/setup@v4.2.0
        with:
          versionSpec: '6.4.x'

      - name: Run GitVersion
        id: gitversion
        uses: GitTools/actions/gitversion/execute@v4.2.0

      - name: Dump generated version
        run: |
            echo "major: ${{ steps.gitversion.outputs.major }}"
            echo "minor: ${{ steps.gitversion.outputs.minor }}"
            echo "patch: ${{ steps.gitversion.outputs.patch }}"
            echo "preReleaseTag: ${{ steps.gitversion.outputs.preReleaseTag }}"
            echo "preReleaseTagWithDash: ${{ steps.gitversion.outputs.preReleaseTagWithDash }}"
            echo "preReleaseLabel: ${{ steps.gitversion.outputs.preReleaseLabel }}"
            echo "preReleaseNumber: ${{ steps.gitversion.outputs.preReleaseNumber }}"
            echo "weightedPreReleaseNumber: ${{ steps.gitversion.outputs.weightedPreReleaseNumber }}"
            echo "buildMetaData: ${{ steps.gitversion.outputs.buildMetaData }}"
            echo "fullBuildMetaData: ${{ steps.gitversion.outputs.fullBuildMetaData }}"
            echo "majorMinorPatch: ${{ steps.gitversion.outputs.majorMinorPatch }}"
            echo "semVer: ${{ steps.gitversion.outputs.semVer }}"
            echo "assemblySemVer: ${{ steps.gitversion.outputs.assemblySemVer }}"
            echo "assemblySemFileVer: ${{ steps.gitversion.outputs.assemblySemFileVer }}"
            echo "fullSemVer: ${{ steps.gitversion.outputs.fullSemVer }}"
            echo "informationalVersion: ${{ steps.gitversion.outputs.informationalVersion }}"
            echo "branchName: ${{ steps.gitversion.outputs.branchName }}"
            echo "escapedBranchName: ${{ steps.gitversion.outputs.escapedBranchName }}"
            echo "sha: ${{ steps.gitversion.outputs.sha }}"
            echo "shortSha: ${{ steps.gitversion.outputs.shortSha }}"
            echo "versionSourceSha: ${{ steps.gitversion.outputs.versionSourceSha }}"
            echo "commitsSinceVersionSource: ${{ steps.gitversion.outputs.commitsSinceVersionSource }}"
            echo "uncommittedChanges: ${{ steps.gitversion.outputs.uncommittedChanges }}"
            echo "commitDate: ${{ steps.gitversion.outputs.commitDate }}"

